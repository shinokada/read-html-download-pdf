<!doctype html><html lang="de"><meta charset="utf-8"><title>""</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"type="text/css"href="../../../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"><h1 id="">"<textarea>"</textarea><intro><p>The <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea">built-in browser <code>&#x3C;textarea></code> component</a> lets you render a multiline text input.<pre class="language-js"><code class="language-js"><span class="token operator">&#x3C;</span>textarea <span class="token operator">/</span><span class="token operator">></span></code></pre></intro><inlinetoc><section class="level2"aria-labelledby="reference-reference"><h2 id="reference-reference">Reference {/<em>reference</em>/}</h2><section class="level3"aria-labelledby="-textarea"><h3 id="-textarea"><code>&#x3C;textarea></code> {/<em>textarea</em>/}</h3><p>To display a text area, render the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea">built-in browser <code>&#x3C;textarea></code></a> component.<pre class="language-js"><code class="language-js"><span class="token operator">&#x3C;</span>textarea name<span class="token operator">=</span><span class="token string">"postContent"</span> <span class="token operator">/</span><span class="token operator">></span></code></pre><p><a href="#usage">See more examples below.</a><section class="level4"aria-labelledby="props-props"><h4 id="props-props">Props {/<em>props</em>/}</h4><p><code>&#x3C;textarea></code> supports all <a href="/reference/react-dom/components/common#props">common element props.</a><p>You can <a href="#controlling-a-text-area-with-a-state-variable">make a text area controlled</a> by passing a <code>value</code> prop:<ul><li><code>value</code>: A string. Controls the text inside the text area.</ul><p>When you pass <code>value</code>, you must also pass an <code>onChange</code> handler that updates the passed value.<p>If your <code>&#x3C;textarea></code> is uncontrolled, you may pass the <code>defaultValue</code> prop instead:<ul><li><code>defaultValue</code>: A string. Specifies <a href="#providing-an-initial-value-for-a-text-area">the initial value</a> for a text area.</ul><p>These <code>&#x3C;textarea></code> props are relevant both for uncontrolled and controlled text areas:<ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea#autocomplete"><code>autoComplete</code></a>: Either <code>'on'</code> or <code>'off'</code>. Specifies the autocomplete behavior.<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea#autofocus"><code>autoFocus</code></a>: A boolean. If <code>true</code>, React will focus the element on mount.<li><code>children</code>: <code>&#x3C;textarea></code> does not accept children. To set the initial value, use <code>defaultValue</code>.<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea#cols"><code>cols</code></a>: A number. Specifies the default width in average character widths. Defaults to <code>20</code>.<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea#disabled"><code>disabled</code></a>: A boolean. If <code>true</code>, the input will not be interactive and will appear dimmed.<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea#form"><code>form</code></a>: A string. Specifies the <code>id</code> of the <code>&#x3C;form></code> this input belongs to. If omitted, it's the closest parent form.<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea#maxlength"><code>maxLength</code></a>: A number. Specifies the maximum length of text.<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea#minlength"><code>minLength</code></a>: A number. Specifies the minimum length of text.<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#name"><code>name</code></a>: A string. Specifies the name for this input that's <a href="#reading-the-textarea-value-when-submitting-a-form">submitted with the form.</a><li><code>onChange</code>: An <a href="/reference/react-dom/components/common#event-handler"><code>Event</code> handler</a> function. Required for <a href="#controlling-a-text-area-with-a-state-variable">controlled text areas.</a> Fires immediately when the input's value is changed by the user (for example, it fires on every keystroke). Behaves like the browser <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/input_event"><code>input</code> event.</a><li><code>onChangeCapture</code>: A version of <code>onChange</code> that fires in the <a href="/learn/responding-to-events#capture-phase-events">capture phase.</a><li><a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/input_event"><code>onInput</code></a>: An <a href="/reference/react-dom/components/common#event-handler"><code>Event</code> handler</a> function. Fires immediately when the value is changed by the user. For historical reasons, in React it is idiomatic to use <code>onChange</code> instead which works similarly.<li><code>onInputCapture</code>: A version of <code>onInput</code> that fires in the <a href="/learn/responding-to-events#capture-phase-events">capture phase.</a><li><a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/invalid_event"><code>onInvalid</code></a>: An <a href="/reference/react-dom/components/common#event-handler"><code>Event</code> handler</a> function. Fires if an input fails validation on form submit. Unlike the built-in <code>invalid</code> event, the React <code>onInvalid</code> event bubbles.<li><code>onInvalidCapture</code>: A version of <code>onInvalid</code> that fires in the <a href="/learn/responding-to-events#capture-phase-events">capture phase.</a><li><a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLTextAreaElement/select_event"><code>onSelect</code></a>: An <a href="/reference/react-dom/components/common#event-handler"><code>Event</code> handler</a> function. Fires after the selection inside the <code>&#x3C;textarea></code> changes. React extends the <code>onSelect</code> event to also fire for empty selection and on edits (which may affect the selection).<li><code>onSelectCapture</code>: A version of <code>onSelect</code> that fires in the <a href="/learn/responding-to-events#capture-phase-events">capture phase.</a><li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea#placeholder"><code>placeholder</code></a>: A string. Displayed in a dimmed color when the text area value is empty.<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea#readonly"><code>readOnly</code></a>: A boolean. If <code>true</code>, the text area is not editable by the user.<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea#required"><code>required</code></a>: A boolean. If <code>true</code>, the value must be provided for the form to submit.<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea#rows"><code>rows</code></a>: A number. Specifies the default height in average character heights. Defaults to <code>2</code>.<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea#wrap"><code>wrap</code></a>: Either <code>'hard'</code>, <code>'soft'</code>, or <code>'off'</code>. Specifies how the text should be wrapped when submitting a form.</ul></section><section class="level4"aria-labelledby="caveats-caveats"><h4 id="caveats-caveats">Caveats {/<em>caveats</em>/}</h4><ul><li>Passing children like <code>&#x3C;textarea>something&#x3C;/textarea></code> is not allowed. <a href="#providing-an-initial-value-for-a-text-area">Use <code>defaultValue</code> for initial content.</a><li>If a text area receives a string <code>value</code> prop, it will be <a href="#controlling-a-text-area-with-a-state-variable">treated as controlled.</a><li>A text area can't be both controlled and uncontrolled at the same time.<li>A text area cannot switch between being controlled or uncontrolled over its lifetime.<li>Every controlled text area needs an <code>onChange</code> event handler that synchronously updates its backing value.</ul></section></section></section><section class="level2"aria-labelledby="usage-usage"><h2 id="usage-usage">Usage {/<em>usage</em>/}</h2><section class="level3"aria-labelledby="displaying-a-text-area-displaying-a-text-area"><h3 id="displaying-a-text-area-displaying-a-text-area">Displaying a text area {/<em>displaying-a-text-area</em>/}</h3><p>Render <code>&#x3C;textarea></code> to display a text area. You can specify its default size with the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea#rows"><code>rows</code></a> and <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea#cols"><code>cols</code></a> attributes, but by default the user will be able to resize it. To disable resizing, you can specify <code>resize: none</code> in the CSS.</p><sandpack><pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">NewPost</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span>label<span class="token operator">></span>
      <span class="token maybe-class-name">Write</span> your post<span class="token operator">:</span>
      <span class="token operator">&#x3C;</span>textarea name<span class="token operator">=</span><span class="token string">"postContent"</span> rows<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">}</span> cols<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">40</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>label<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><pre class="language-css"><code class="language-css"><span class="token selector">input</span> <span class="token punctuation">{</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token unit">px</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token selector">textarea</span> <span class="token punctuation">{</span> <span class="token property">margin-top</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token unit">px</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token selector">label</span> <span class="token punctuation">{</span> <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token unit">px</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token selector">label<span class="token punctuation">,</span> textarea</span> <span class="token punctuation">{</span> <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span> <span class="token punctuation">}</span></code></pre></sandpack></section><section class="level3"aria-labelledby="providing-a-label-for-a-text-area-providing-a-label-for-a-text-area"><h3 id="providing-a-label-for-a-text-area-providing-a-label-for-a-text-area">Providing a label for a text area {/<em>providing-a-label-for-a-text-area</em>/}</h3><p>Typically, you will place every <code>&#x3C;textarea></code> inside a <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/label"><code>&#x3C;label></code></a> tag. This tells the browser that this label is associated with that text area. When the user clicks the label, the browser will focus the text area. It's also essential for accessibility: a screen reader will announce the label caption when the user focuses the text area.<p>If you can't nest <code>&#x3C;textarea></code> into a <code>&#x3C;label></code>, associate them by passing the same ID to <code>&#x3C;textarea id></code> and <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLLabelElement/htmlFor"><code>&#x3C;label htmlFor></code>.</a> To avoid conflicts between instances of one component, generate such an ID with <a href="/reference/react/useId"><code>useId</code>.</a></p><sandpack><pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> useId <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Form</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> postTextAreaId <span class="token operator">=</span> <span class="token function">useId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span>label htmlFor<span class="token operator">=</span><span class="token punctuation">{</span>postTextAreaId<span class="token punctuation">}</span><span class="token operator">></span>
        <span class="token maybe-class-name">Write</span> your post<span class="token operator">:</span>
      <span class="token operator">&#x3C;</span><span class="token operator">/</span>label<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>textarea
        id<span class="token operator">=</span><span class="token punctuation">{</span>postTextAreaId<span class="token punctuation">}</span>
        name<span class="token operator">=</span><span class="token string">"postContent"</span>
        rows<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">}</span>
        cols<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">40</span><span class="token punctuation">}</span>
      <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><pre class="language-css"><code class="language-css"><span class="token selector">input</span> <span class="token punctuation">{</span> <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token unit">px</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></code></pre></sandpack></section><section class="level3"aria-labelledby="providing-an-initial-value-for-a-text-area-providing-an-initial-value-for-a-text-area"><h3 id="providing-an-initial-value-for-a-text-area-providing-an-initial-value-for-a-text-area">Providing an initial value for a text area {/<em>providing-an-initial-value-for-a-text-area</em>/}</h3><p>You can optionally specify the initial value for the text area. Pass it as the <code>defaultValue</code> string.</p><sandpack><pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">EditPost</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span>label<span class="token operator">></span>
      <span class="token maybe-class-name">Edit</span> your post<span class="token operator">:</span>
      <span class="token operator">&#x3C;</span>textarea
        name<span class="token operator">=</span><span class="token string">"postContent"</span>
        defaultValue<span class="token operator">=</span><span class="token string">"I really enjoyed biking yesterday!"</span>
        rows<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">}</span>
        cols<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">40</span><span class="token punctuation">}</span>
      <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>label<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><pre class="language-css"><code class="language-css"><span class="token selector">input</span> <span class="token punctuation">{</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token unit">px</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token selector">textarea</span> <span class="token punctuation">{</span> <span class="token property">margin-top</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token unit">px</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token selector">label</span> <span class="token punctuation">{</span> <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token unit">px</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token selector">label<span class="token punctuation">,</span> textarea</span> <span class="token punctuation">{</span> <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span> <span class="token punctuation">}</span></code></pre></sandpack><pitfall><p>Unlike in HTML, passing initial text like <code>&#x3C;textarea>Some content&#x3C;/textarea></code> is not supported.</p></pitfall></section><section class="level3"aria-labelledby="reading-the-text-area-value-when-submitting-a-form-reading-the-text-area-value-when-submitting-a-form"><h3 id="reading-the-text-area-value-when-submitting-a-form-reading-the-text-area-value-when-submitting-a-form">Reading the text area value when submitting a form {/<em>reading-the-text-area-value-when-submitting-a-form</em>/}</h3><p>Add a <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form"><code>&#x3C;form></code></a> around your textarea with a <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button"><code>&#x3C;button type="submit"></code></a> inside. It will call your <code>&#x3C;form onSubmit></code> event handler. By default, the browser will send the form data to the current URL and refresh the page. You can override that behavior by calling <code>e.preventDefault()</code>. Read the form data with <a href="https://developer.mozilla.org/en-US/docs/Web/API/FormData"><code>new FormData(e.target)</code></a>.<sandpack></sandpack><pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">EditPost</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">handleSubmit</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Prevent the browser from reloading the page</span>
    e<span class="token punctuation">.</span><span class="token method function property-access">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Read the form data</span>
    <span class="token keyword">const</span> form <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> formData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span>form<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// You can pass formData as a fetch body directly:</span>
    <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'/some-api'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">method</span><span class="token operator">:</span> form<span class="token punctuation">.</span><span class="token property-access">method</span><span class="token punctuation">,</span> <span class="token literal-property property">body</span><span class="token operator">:</span> formData <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Or you can work with it as a plain object:</span>
    <span class="token keyword">const</span> formJson <span class="token operator">=</span> <span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">fromEntries</span><span class="token punctuation">(</span>formData<span class="token punctuation">.</span><span class="token method function property-access">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>formJson<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span>form method<span class="token operator">=</span><span class="token string">"post"</span> onSubmit<span class="token operator">=</span><span class="token punctuation">{</span>handleSubmit<span class="token punctuation">}</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span>label<span class="token operator">></span>
        <span class="token maybe-class-name">Post</span> # <span class="token operator">&#x3C;</span>input name<span class="token operator">=</span><span class="token string">"postTitle"</span> defaultValue<span class="token operator">=</span><span class="token string">"Biking"</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token operator">/</span>label<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>label<span class="token operator">></span>
        <span class="token maybe-class-name">Edit</span> your post<span class="token operator">:</span>
        <span class="token operator">&#x3C;</span>textarea
          name<span class="token operator">=</span><span class="token string">"postContent"</span>
          defaultValue<span class="token operator">=</span><span class="token string">"I really enjoyed biking yesterday!"</span>
          rows<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">}</span>
          cols<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">40</span><span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token operator">/</span>label<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>hr <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span>button type<span class="token operator">=</span><span class="token string">"reset"</span><span class="token operator">></span><span class="token maybe-class-name">Reset</span> edits<span class="token operator">&#x3C;</span><span class="token operator">/</span>button<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>button type<span class="token operator">=</span><span class="token string">"submit"</span><span class="token operator">></span><span class="token maybe-class-name">Save</span> post<span class="token operator">&#x3C;</span><span class="token operator">/</span>button<span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>form<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><pre class="language-css"><code class="language-css"><span class="token selector">label</span> <span class="token punctuation">{</span> <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token selector">input</span> <span class="token punctuation">{</span> <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token unit">px</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></code></pre><note><p>Give a <code>name</code> to your <code>&#x3C;textarea></code>, for example <code>&#x3C;textarea name="postContent" /></code>. The <code>name</code> you specified will be used as a key in the form data, for example <code>{ postContent: "Your post" }</code>.</p></note><pitfall><p>By default, <em>any</em> <code>&#x3C;button></code> inside a <code>&#x3C;form></code> will submit it. This can be surprising! If you have your own custom <code>Button</code> React component, consider returning <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/button"><code>&#x3C;button type="button"></code></a> instead of <code>&#x3C;button></code>. Then, to be explicit, use <code>&#x3C;button type="submit"></code> for buttons that <em>are</em> supposed to submit the form.</p></pitfall></section><section class="level3"aria-labelledby="controlling-a-text-area-with-a-state-variable-controlling-a-text-area-with-a-state-variable"><h3 id="controlling-a-text-area-with-a-state-variable-controlling-a-text-area-with-a-state-variable">Controlling a text area with a state variable {/<em>controlling-a-text-area-with-a-state-variable</em>/}</h3><p>A text area like <code>&#x3C;textarea /></code> is <em>uncontrolled.</em> Even if you <a href="#providing-an-initial-value-for-a-text-area">pass an initial value</a> like <code>&#x3C;textarea defaultValue="Initial text" /></code>, your JSX only specifies the initial value, not the value right now.<p><strong>To render a <em>controlled</em> text area, pass the <code>value</code> prop to it.</strong> React will force the text area to always have the <code>value</code> you passed. Typically, you will control a text area by declaring a <a href="/reference/react/useState">state variable:</a><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">NewPost</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>postContent<span class="token punctuation">,</span> setPostContent<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Declare a state variable...</span>
  <span class="token comment">// ...</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span>textarea
      value<span class="token operator">=</span><span class="token punctuation">{</span>postContent<span class="token punctuation">}</span> <span class="token comment">// ...force the input's value to match the state variable...</span>
      onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token arrow operator">=></span> <span class="token function">setPostContent</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token comment">// ... and update the state variable on any edits!</span>
    <span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>This is useful if you want to re-render some part of the UI in response to every keystroke.</p><sandpack><pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> useState <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">MarkdownPreview</span></span> <span class="token keyword module">from</span> <span class="token string">'./MarkdownPreview.js'</span><span class="token punctuation">;</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">MarkdownEditor</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>postContent<span class="token punctuation">,</span> setPostContent<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'_Hello,_ **Markdown**!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span>label<span class="token operator">></span>
        <span class="token maybe-class-name">Enter</span> some markdown<span class="token operator">:</span>
        <span class="token operator">&#x3C;</span>textarea
          value<span class="token operator">=</span><span class="token punctuation">{</span>postContent<span class="token punctuation">}</span>
          onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token arrow operator">=></span> <span class="token function">setPostContent</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token operator">/</span>label<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>hr <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">MarkdownPreview</span> markdown<span class="token operator">=</span><span class="token punctuation">{</span>postContent<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Remarkable</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'remarkable'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> md <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remarkable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">MarkdownPreview</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> markdown <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> renderedHTML <span class="token operator">=</span> md<span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span>markdown<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">return</span> <span class="token operator">&#x3C;</span>div dangerouslySetInnerHTML<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token literal-property property">__html</span><span class="token operator">:</span> renderedHTML<span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"dependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"react"</span><span class="token operator">:</span> <span class="token string">"latest"</span><span class="token punctuation">,</span>
    <span class="token property">"react-dom"</span><span class="token operator">:</span> <span class="token string">"latest"</span><span class="token punctuation">,</span>
    <span class="token property">"react-scripts"</span><span class="token operator">:</span> <span class="token string">"latest"</span><span class="token punctuation">,</span>
    <span class="token property">"remarkable"</span><span class="token operator">:</span> <span class="token string">"2.0.1"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"start"</span><span class="token operator">:</span> <span class="token string">"react-scripts start"</span><span class="token punctuation">,</span>
    <span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"react-scripts build"</span><span class="token punctuation">,</span>
    <span class="token property">"test"</span><span class="token operator">:</span> <span class="token string">"react-scripts test --env=jsdom"</span><span class="token punctuation">,</span>
    <span class="token property">"eject"</span><span class="token operator">:</span> <span class="token string">"react-scripts eject"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><pre class="language-css"><code class="language-css"><span class="token selector">textarea</span> <span class="token punctuation">{</span> <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span> <span class="token property">margin-top</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token unit">px</span><span class="token punctuation">;</span> <span class="token property">margin-bottom</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token unit">px</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></code></pre></sandpack><pitfall><p><strong>If you pass <code>value</code> without <code>onChange</code>, it will be impossible to type into the text area.</strong> When you control a text area by passing some <code>value</code> to it, you <em>force</em> it to always have the value you passed. So if you pass a state variable as a <code>value</code> but forget to update that state variable synchronously during the <code>onChange</code> event handler, React will revert the text area after every keystroke back to the <code>value</code> that you specified.</p></pitfall></section></section><section class="level2"aria-labelledby="troubleshooting-troubleshooting"><h2 id="troubleshooting-troubleshooting">Troubleshooting {/<em>troubleshooting</em>/}</h2><section class="level3"aria-labelledby="my-text-area-doesnt-update-when-i-type-into-it-my-text-area-doesnt-update-when-i-type-into-it"><h3 id="my-text-area-doesnt-update-when-i-type-into-it-my-text-area-doesnt-update-when-i-type-into-it">My text area doesn't update when I type into it {/<em>my-text-area-doesnt-update-when-i-type-into-it</em>/}</h3><p>If you render a text area with <code>value</code> but no <code>onChange</code>, you will see an error in the console:<pre class="language-js"><code class="language-js"><span class="token comment">// ðŸ”´ Bug: controlled text area with no onChange handler</span>
<span class="token operator">&#x3C;</span>textarea value<span class="token operator">=</span><span class="token punctuation">{</span>something<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span></code></pre><consoleblock level="error"><p>You provided a <code>value</code> prop to a form field without an <code>onChange</code> handler. This will render a read-only field. If the field should be mutable use <code>defaultValue</code>. Otherwise, set either <code>onChange</code> or <code>readOnly</code>.</p></consoleblock><p>As the error message suggests, if you only wanted to <a href="#providing-an-initial-value-for-a-text-area">specify the <em>initial</em> value,</a> pass <code>defaultValue</code> instead:<pre class="language-js"><code class="language-js"><span class="token comment">// âœ… Good: uncontrolled text area with an initial value</span>
<span class="token operator">&#x3C;</span>textarea defaultValue<span class="token operator">=</span><span class="token punctuation">{</span>something<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span></code></pre><p>If you want <a href="#controlling-a-text-area-with-a-state-variable">to control this text area with a state variable,</a> specify an <code>onChange</code> handler:<pre class="language-js"><code class="language-js"><span class="token comment">// âœ… Good: controlled text area with onChange</span>
<span class="token operator">&#x3C;</span>textarea value<span class="token operator">=</span><span class="token punctuation">{</span>something<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token arrow operator">=></span> <span class="token function">setSomething</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span></code></pre><p>If the value is intentionally read-only, add a <code>readOnly</code> prop to suppress the error:<pre class="language-js"><code class="language-js"><span class="token comment">// âœ… Good: readonly controlled text area without on change</span>
<span class="token operator">&#x3C;</span>textarea value<span class="token operator">=</span><span class="token punctuation">{</span>something<span class="token punctuation">}</span> readOnly<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">true</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span></code></pre></section><section class="level3"aria-labelledby="my-text-area-caret-jumps-to-the-beginning-on-every-keystroke-my-text-area-caret-jumps-to-the-beginning-on-every-keystroke"><h3 id="my-text-area-caret-jumps-to-the-beginning-on-every-keystroke-my-text-area-caret-jumps-to-the-beginning-on-every-keystroke">My text area caret jumps to the beginning on every keystroke {/<em>my-text-area-caret-jumps-to-the-beginning-on-every-keystroke</em>/}</h3><p>If you <a href="#controlling-a-text-area-with-a-state-variable">control a text area,</a> you must update its state variable to the text area's value from the DOM during <code>onChange</code>.<p>You can't update it to something other than <code>e.target.value</code>:<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ðŸ”´ Bug: updating an input to something other than e.target.value</span>
  <span class="token function">setFirstName</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">.</span><span class="token method function property-access">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>You also can't update it asynchronously:<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ðŸ”´ Bug: updating an input asynchronously</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">setFirstName</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>To fix your code, update it synchronously to <code>e.target.value</code>:<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// âœ… Updating a controlled input to e.target.value synchronously</span>
  <span class="token function">setFirstName</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>If this doesn't fix the problem, it's possible that the text area gets removed and re-added from the DOM on every keystroke. This can happen if you're accidentally <a href="/learn/preserving-and-resetting-state">resetting state</a> on every re-render. For example, this can happen if the text area or one of its parents always receives a different <code>key</code> attribute, or if you nest component definitions (which is not allowed in React and causes the "inner" component to remount on every render).</section><section class="level3"aria-labelledby="im-getting-an-error-a-component-is-changing-an-uncontrolled-input-to-be-controlled-im-getting-an-error-a-component-is-changing-an-uncontrolled-input-to-be-controlled"><h3 id="im-getting-an-error-a-component-is-changing-an-uncontrolled-input-to-be-controlled-im-getting-an-error-a-component-is-changing-an-uncontrolled-input-to-be-controlled">I'm getting an error: "A component is changing an uncontrolled input to be controlled" {/<em>im-getting-an-error-a-component-is-changing-an-uncontrolled-input-to-be-controlled</em>/}</h3><p>If you provide a <code>value</code> to the component, it must remain a string throughout its lifetime.<p>You cannot pass <code>value={undefined}</code> first and later pass <code>value="some string"</code> because React won't know whether you want the component to be uncontrolled or controlled. A controlled component should always receive a string <code>value</code>, not <code>null</code> or <code>undefined</code>.<p>If your <code>value</code> is coming from an API or a state variable, it might be initialized to <code>null</code> or <code>undefined</code>. In that case, either set it to an empty string (<code>''</code>) initially, or pass <code>value={someValue ?? ''}</code> to ensure <code>value</code> is a string. <span style="float:footnote"><a href="../../../index.html#toc">Go to TOC</a></span></section></section></inlinetoc></h1></section>