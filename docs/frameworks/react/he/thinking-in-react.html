<!doctype html><html lang="he"><meta charset="utf-8"><title>砖 -React</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../../../../../../docs/themes/packages/prism-coy-theme/theme_common.css"><section id="砖--react"class="level1"><h1>砖 -React</h1><ul><li>'blog/2013/11/05/thinking-in-react.html'<li>'docs/thinking-in-react-zh-CN.html'</ul><p>React, 驻 注转,  住驻专转 '-住拽专驻  转 砖 专. 住驻专  转 注爪 爪 驻住拽 住专.<p> 转专转  砖 React    专  砖 注 砖  砖转  转. 专 ,  转 转 砖 砖 转 转 转 爪专 爪注转 React.<section id="start-with-a-mock"class="level2"><h2>转 注 </h2><p> 砖砖  砖拽 JSON 砖专 :<figure><img src="../images/blog/thinking-in-react-mock.png"alt="Mockup"><figcaption aria-hidden="true">Mockup</figcaption></figure><p>砖拽 专 注 驻专 JSON 砖专 :<pre class="language-text"><code class="language-text">[
];</code></pre></section><section id="step-1-break-the-ui-into-a-component-hierarchy"class="level2"><h2>砖 专砖: 驻爪 砖拽 砖转砖 专专转 拽驻转</h2><p>专 专砖 砖注砖  拽祝  拽驻(转转 拽驻) 拽驻住, 转转  转 砖.  转 注 注 注爪/转 ,  转 砖/ 专 注砖 转 .<p>  注  爪专 转 拽驻 砖? 砖转砖 转 拽 砖   爪专 转  注爪. 转 砖转  <a href="https://en.wikipedia.org/wiki/Single_responsibility_principle">注拽专 专转 转</a>, 砖专, 砖驻   拽驻 专 注砖转 专  .  拽驻 , 爪专 驻爪 转 转转-拽驻转.<p>砖 砖注转 转驻转 爪专 爪 注 驻专 JSON 砖转砖, 专 砖   专, 砖拽 砖转砖 砖(   拽驻转 ) 驻 驻 住专.  拽专  砖砖拽 砖转砖  注  拽 转 <em>专拽专转 注</em>. 驻爪 转 砖拽 砖转砖 砖 拽驻转, 砖 转  转 拽  砖  注 砖.<figure><img src="../images/blog/thinking-in-react-components.png"alt="转专砖 专 nesting 砖 拽驻转"><figcaption aria-hidden="true">转专砖 专 nesting 砖 拽驻转</figcaption></figure><p>专  砖砖  砖 拽驻转 砖 砖. 注 砖 拽驻 爪转  驻 italic<ol><li><strong><code>FilterableProductTable</code> (转):</strong>  转  转转 <li><strong><code>SearchBar</code> ():</strong> <em>拽 砖转砖</em><li><strong><code>ProductTable</code> (专拽):</strong> 爪 住 转 <em>注</em> 注 住 <em>拽 砖转砖</em><li><strong><code>ProductCategoryRow</code> (专拽):</strong> 爪 转专转  <em>拽专</em><li><strong><code>ProductRow</code> ():</strong> 爪 砖专  <em>爪专</em></ol><p> 住转 注 ProductTable, 专 砖转专转 ( 砖 转 转专转 砖 专 )   拽驻 砖. 驻砖专 驻 转 拽驻 砖 驻砖专  砖,  注 砖 专.  转, 砖专 转 拽 ProductTable  砖 拽 专专 <em>注</em>, 砖 注转 拽驻 ProductTable. 注转 转,  转专转  转 住转(    住驻 驻砖 ),   注 爪专 驻爪 转 拽驻 砖( ProductTableHeader ). 注砖 专 砖 转 拽驻转  砖, 住专 转 专专. 拽驻转 砖爪转 转 拽驻转 专转 爪专转 驻注 转转 专专:</section><section id="step-2-build-a-static-version-in-react"class="level2"><h2>Step 2: 转 专住 住转 React</h2><p data-height="600"data-theme-id="0"data-slug-hash="BwWzwm"data-default-tab="js"data-user="lacker"data-embed-version="2"class="codepen">See the Pen <a href="https://codepen.io/gaearon/pen/BwWzwm">Thinking In React: Step 2</a> on <a href="https://codepen.io">CodePen</a>.</p><script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script><p>注砖 砖砖  转 专专转 拽驻转 砖,   砖 转 砖. 专 拽 转专  转 专住 砖拽转 转  注 专专转 转 砖拽 砖转砖,    专拽转. 抓 驻爪 转   砖转 专住 住转 专砖转 专 拽  砖, 住驻转 专拽转 专砖转 专 砖  拽. 专 .<p>注 转 转 专住 住转 砖 砖 砖专专转 转  注, 专爪 转 拽驻转 砖砖转砖转 拽驻转 专转 注专转 注 爪注转 props<strong>.<em>props</em>  专 注专转 注 '专' ''.  转 专 转 拽住驻 砖 <em>state</em>, </strong> 转砖转砖 state ** 注 转 转 转 专住 住转. state 砖专 专拽 专拽转, 砖 注 砖砖转 专 .  砖转 专住 住转 砖 砖,  爪专 state.<p> 转 注    注. 砖 专 砖 转 转 转 拽驻转 注 专( 转 FilterableProductTable )  拽驻转 转转转 专专( ProductRow ). 转 驻砖转 转专,  拽 转专 转 注 , 驻专拽 ,  拽 转专 转  注 转 tests 拽 .<p>住祝 砖 ,   住驻专 砖 拽驻转 砖砖转 砖专专转 转  注. 拽驻转  专拽 转转 render()  砖 专住 住转 砖 砖. 拽驻 专砖 专专(FilterableProductTable) 转拽 转  注 prop 砖注专 .  爪注 砖  注 拽专  ReactDOM.render() 砖, 砖拽 砖转砖 注.  驻砖 专转  砖拽 砖转砖 注  爪注 砖  砖砖 专 住  转爪注. <strong>注专转 注  </strong> 砖 React 砖专  爪专 专转 专.<p>拽专 注 <a href="./getting-started.html">转注 砖 专拽</a>  转爪专 注专 爪注 砖 .<section id="a-brief-interlude-props-vs-state"class="level3"><h3>驻 拽爪专: props - state</h3><p>砖 砖 住 砖 '' 注 React : props state.  砖  转   砖. 拽专 注 <a href="./state-and-lifecycle.html">转注 砖 专拽</a>  转    . 专  <a href="/docs/faq-state.html#what-is-the-difference-between-state-and-props">砖转 驻爪转:    state -props?</a></section></section><section id="step-3-identify-the-minimal-but-complete-representation-of-ui-state"class="level2"><h2>砖 砖砖:  爪 (   ) 砖 state 砖 砖拽 砖转砖</h2><p>注 转 砖砖拽 砖转砖  专拽, 爪专 砖  转 转 砖转 转  注 砖. React 注砖 转 注 <strong>state</strong>.<p> 转 转 砖 爪专 , 爪专 砖 转 注 转 转 砖 state 砖砖 专砖. 驻转 驻  <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself">DRY: <em>Don't Repeat Yourself</em></a> 砖专 ' 转专 拽'. 砖 注 转 转 转专 砖 state 砖砖 爪专 砖  专 专 砖砖 爪专 驻 专砖. ,    砖 砖 专砖转 转,   注专 砖 转;  砖专 砖转 state 砖 转 转. 拽 , 砖专爪 专专 转 住驻专 转, 驻砖 拽 转 专 注专 爪 转.<p>专 转 驻住转 注 砖 砖, 砖  转:<ul><li>专砖 拽专转 砖 爪专<li>转 驻砖 砖砖转砖 拽<li>注专 转转 住<li>专砖 住转 砖 爪专</ul><p>注专 注   砖  驻住转 注  state. 注砖 转 爪注转 砖转 3 砖转 注  驻住转 注:<ol><li> 注 注专 专 爪注转 props?  ,   state.<li>  砖专 拽注 专 ?  ,   state.<li> 驻砖专 砖 转  驻 state 专  props 拽驻 砖?  ,   state.</ol><p>专砖 拽专转 注专转 爪注转 props,    state. 拽住 驻砖 转转 住 专 转 转 state  砖 砖转 专   砖驻注 砖. 住祝, 专砖 住转 砖 爪专   state  砖 砖驻注转 专砖 拽专转 砖 爪专, 拽住 驻砖 注专 转转 住( 住  ).<p> 注 住拽 砖state 砖 :<ul><li>拽住 驻砖 砖砖转砖 拽<li>注专 转转 住</ul></section><section id="step-4-identify-where-your-state-should-live"class="level2"><h2>砖 专注:  拽 转 state</h2><p data-height="600"data-theme-id="0"data-slug-hash="qPrNQZ"data-default-tab="js"data-user="lacker"data-embed-version="2"class="codepen">See the Pen <a href="https://codepen.io/gaearon/pen/qPrNQZ">Thinking In React: Step 4</a> on <a href="https://codepen.io">CodePen</a>.<p>  专  砖 state 砖 砖 砖. 注砖  爪专 转  拽驻 砖,  拽转 <em>注转</em> 注 state.<p>专: React  住 住 注专转 注  专专转 拽驻转.  驻注  专专   拽驻  转 住 转 state. <strong> 注转 拽专转 拽  转专 转 </strong>React,  注专 注 砖  注 转 :<p> 驻住转 state 砖:<ul><li>  拽驻 砖专专转 砖 state.<li>爪  砖 拽驻 专转 注 专专  拽驻  砖转 住 转 state.<li>  爪 拽驻 砖转 住 转 state, 爪专 转 砖 砖 专转  住 转 state 住 转 驻砖 专专 注 拽驻 专转 砖砖转砖转 state.</ul><p>砖转砖 砖  砖:<ul><li>ProductTable 爪专 住 转 专砖转 爪专 驻 state SearchBar 爪专 爪 转 拽住 驻砖 转转 住.<li>拽驻 砖 砖注砖 砖砖 state  FilterableProductTable.<li>驻 注拽专   砖拽住 住 注专 住 '' 转 FilterableProductTable.</ul><p>  砖state '' 转 FilterableProductTable. 专砖转, 住祝 拽 this.state = {filterText: '', inStockOnly: false} FilterableProductTable 拽住专拽专 砖 注 转 砖拽祝 转 state 专砖 砖 砖. 专 , 注专 转 filterText inStockOnly ProductTable  SearchBar prop. 住祝, 砖转砖 props  注 转 住 转 砖专转 ProductTable 专 转 注专 砖 砖转 驻住 SearchBar.<p>驻砖专 专 转 专转  砖 砖 转: 专 转 filterText ''专'' 专注 转 砖. 专 砖转 注 转注转 注 注专 .</section><section id="step-5-add-inverse-data-flow"class="level2"><h2>砖 砖: 住驻转 专转 注 驻</h2><p data-height="600"data-theme-id="0"data-slug-hash="LzWZvb"data-default-tab="js,result"data-user="rohan10"data-embed-version="2"data-pen-title="Thinking In React: Step 5"class="codepen">See the Pen <a href="https://codepen.io/gaearon/pen/LzWZvb">Thinking In React: Step 5</a> on <a href="https://codepen.io">CodePen</a>.<p>注 ,  砖 砖专专 驻拽爪 砖 props state  专专. 注砖   住祝 爪注 专 驻 砖 注: 拽驻转 驻住 注拽 专 爪专转 注 转 state FilterableProductTable.<p>React 驻 转 专转 注 驻专砖转 注 转 注专    砖 砖 注,   专砖 驻 转专 砖专转 拽 砖专 binding   砖 转.<p> 住 转  住 转 拽驻住 专住 拽转 砖  砖 (砖 4), 专 砖React 转注 拽 砖.  注砖 ,  砖 专 转 注专 prop 砖 拽 转 转 砖 state 砖注专 FilterableProductTable.<p>砖 专注 注   专爪 砖拽专.  专爪 转  砖砖砖转砖 砖 转 驻住,  注 转 state 砖砖拽祝 转 拽 砖转砖.  砖专爪 砖拽驻转 注 转 state 砖 , FilterableProductTable 注专 callbacks SearchBar 砖驻注 砖state 转注.   砖转砖 onChange event 注 拽. callbacks 砖注专 专 FilterableProductTable 拽专 转转 setState(), 砖 转注.<p>驻 砖 砖注 住,  住  住驻专 爪爪 砖 砖专转 拽. 转专  砖 爪 驻 驻专砖  注 注专 砖.</section><section id="and-thats-it"class="level2"><h2>!</h2><p> 砖 专   转转  专注 注  砖 注 转 拽驻转 砖 注 React.    爪专 转专 转  砖转 专,  专 砖拽 拽专 转专 砖专  转,    拽专 转 拽 驻专砖 专 砖转. 砖转转 转 住驻专转 转 砖 拽驻转, 转 转注专 转 驻砖转 专转, 注 砖砖 专 拽 砖转 专砖, 砖专转 拽 砖 转 转抓.  <span style="float:footnote"><a href="./index.html#toc">Go to TOC</a></span></section></section>